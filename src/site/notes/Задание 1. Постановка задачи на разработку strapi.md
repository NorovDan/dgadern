---
{"dg-publish":true,"permalink":"/zadanie-1-postanovka-zadachi-na-razrabotku-strapi/","tags":["gardenEntry"]}
---

## Задание 1. Постановка задачи на разработку strapi

---

**ФИО:** {{ 2022-ФГиИБ-ИБ-1б}} {{ Воронов Даниил Алексеевич }}

---

#### Требования:

- [x]  Не менее 3 сущностей;
- [x]  Сущности связаны отношениями (один ко многим, многие к одному и т.п.);
- [x]  Должны быть вложенные сущности;
- [x]  Подключены медиа;
- [x]  Требуется аутентификация;
- [x]  Есть уровни доступа и, соответственно, роли;
- [ ]  Кастомная валидация (за пределами стандартных типов данных).

#### Идея

BookMarket – это приложение, в котором пользователи могут продавать свои книги; покупать книги, которые выставлены на продажу другими пользователями; оставлять отзывы на купленные книги.

#### Сущности

###### 1. Пользователь(User)
Описание: представляет собой покупателя или продавца, зарегистрированного на платформе.

id_user – id пользователя (Тип данных: UID) (Тип ключа: Primary Key)

Fname – Фамилия пользователя (Тип данных: Text)

Lname – Имя пользователя (Тип данных: Text)

sex – Пол пользователя (Тип данных: Text)

email – электронная почта пользователя (Тип данных: Email)

password – пароль пользователя (Тип данных: Password)

phone – номер телефона пользователя (Тип данных: Text)

sell_history – история продаж пользователя (Тип данных: Text)

buy_history – история покупок пользователя (Тип данных: Text)

reg_date – дата регистрации (Тип данных: Date)

user_profile – фотография пользователя (Тип данных: Media)

###### 2. Книга (Book)
Описание: Представляет собой книгу, которую выставили на продажу

id_book - id книги (Тип данных: UID) (Тип ключа: Primary Key)

name – название книги (Тип данных: Text)

author – автор книги (Тип данных: Text)

genre – жанр книги (Тип данных: Text)

quantity - количество (Тип данных: Number)

publisher – издательство (Тип данных: Text)

description – описание книги (Тип данных: Rich text (blocks))

id_user – id продавца (Тип данных: UID) (Тип ключа: Foreign Key)

price – цена книги (Тип данных: Decimal)

rate – рейтинг книги (Тип данных: Number)

reviews – список отзывов (Тип данных: Rich text (blocks))

image_book – изображение книги (Тип данных: Media)

###### 3. Заказ (Order)
Описание: Представляет собой заказ, который сделал пользователь на определенную книгу

id_order – id заказа (Тип данных: UID) (Тип ключа: Primary Key)

id_user – id покупателя (Тип данных: UID) (Тип ключа: Foreign Key)

id_book – id книги (Тип данных: UID) (Тип ключа: Foreign Key)

price – цена заказа (Тип данных: Number)

order_date – дата заказа (Тип данных: Date)

status – статус заказа (Тип данных: Text)

###### 4.Отзыв (Review)
Описание: Представляет собой отзыв, который пользователь оставил на определенную книгу

id_review – id отзыва(Тип данных: UID) (Тип ключа: Primary Key)

id_user – id пользователя(Тип данных: UID) (Тип ключа: Foreign Key)

id_book – id книги (Тип данных: UID) (Тип ключа: Foreign Key)

text – текст отзыва (Тип данных: Rich text (blocks))

mark – оценка книги (Тип данных: Number)
###### 5. Автор
Описание:  Представляет собой краткую сводку об авторе

id_author – id автора (Тип данных: UID) (Тип ключа: Primary Key)

name – имя автора (Тип данных: Text)

bio – биография автора (Тип данных: Rich text (blocks))

image_author – фотография автора (Тип данных: Media)

books – список книг (Тип данных: Text)

###### Отношения между сущностями

В виде схемы  
![Pasted image 20240908192914.png](/img/user/Pasted%20image%2020240908192914.png)


#### Источники данных
user_profile - фотография профиля, которую пользователь загружает в приложении
book_profile - фотография книги, которую пользователь выставляет на продажу
author_profile - фотография автора, которая берется из информационного источника. 


#### Порядок доступа к данным
-Гости могут только просматривать книги и отзыва к ним
-Зарегистрированные пользователи могут покупать, продавать и оставлять отзывы к книгам
-Администраторы могут управлять информацией о пользователях и книгах
#### Особые указания, требования, комментарии
**Кастомная валидация:**  
-**Регистрация:** Проверка на уникальность электронной почты. Минимальная длина пароля — 8 символов.  Пароль должен состоять из букв, цифр и специальных символов
-**Добавление книги:** Проверка на наличие обязательных полей. Цена должна быть положительным числом; изображение обложки должно быть корректным URL 
-**Оставление отзыва:** Оценка должна быть в диапазоне от 1 до 5. Текст отзыва не должен превышать 500 символов